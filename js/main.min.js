"use strict";function scrollTo(e){$("html, body").animate({scrollTop:$(e).offset().top+"px"},500)}$(function(){$('a[href^="#"]').click(function(e){e.preventDefault(),scrollTo($(this).attr("href"))});var o=$(document.body),i=$(".modal"),l=$(".popup--gallery"),a=$(".popup--zoom"),e=$(".nav-list");$(".nav a").click(function(){e.removeClass("active"),o.removeClass("scroll-disabled"),$(".burger").removeClass("burger--active")}),$(".js-burger").click(function(){$(this).toggleClass("burger--active"),o.toggleClass("scroll-disabled"),e.toggleClass("active")});var s=$(".js-zoom-img"),t=1,n=0,r=0;function c(){s.css({transform:"scale("+t+") translate("+n+"rem,"+r+"rem)"})}function d(){$(".js-open-popup").click(function(){console.log("!"),o.addClass("scroll-disabled"),i.addClass("visible"),a.css("display","block");var e=$(this).siblings("img").attr("src").replace(/\.(png|jpg|jpeg)/,"-full.$1");s.attr("src",e)}),$(".js-close-popup").click(function(){o.removeClass("scroll-disabled"),i.removeClass("visible"),l.css("display","none"),a.css("display","none")})}$(".popup-zoomin").click(function(){7<(t+=1)&&(t=7),c()}),$(".popup-zoomout").click(function(){--t<1&&(t=1),c()}),$(".popup-up").click(function(){r-=t/3*1,c()}),$(".popup-down").click(function(){r+=t/3*1,c()}),$(".popup-left").click(function(){n-=t/3*1,c()}),$(".popup-right").click(function(){n+=t/3*1,c()}),d();var p=[],u=0,m=$(".js-current-img");function g(){m.attr("src",p[u])}$(".js-next").click(function(){++u>p.length-1&&(u=0),g()}),$(".js-prev").click(function(){--u<0&&(u=p.length-1),g()}),$(".js-open-gallery").click(function(){var e=$(this).parents(".gallery-slider-item").attr("data-room"),a=$(this).parent().index();10<=+e?(console.log("More than 10!"),$(".popup-header__text2").css("display","block")):$(".popup-header__text2").css("display","none"),p=[],$(this).parents(".gallery-body").children().each(function(e,a){p.push($(a).find("img").attr("src").replace(/\.(png|jpg|jpeg)/,"-full.$1"))}),console.log(p),u=a,o.addClass("scroll-disabled"),i.addClass("visible"),l.css("display","block"),g()}),$(".gallery-slider").addClass("enabled").addClass("owl-carousel").owlCarousel({items:1,margin:1,loop:!0,mouseDrag:!1,dots:!0,nav:!0,navText:["<img src='../img/icons/angle.svg' aria-label='Вперед'>","<img src='../img/icons/angle.svg' aria-label='Назад'>"]}),$(".work-slider").addClass("enabled").addClass("owl-carousel").owlCarousel({items:1,margin:1,loop:!0,mouseDrag:!1,dots:!0,nav:!0,navText:["<img src='../img/icons/angle-white.svg' aria-label='Вперед'>","<img src='../img/icons/angle-white.svg' aria-label='Назад'>"],responsive:{0:{margin:150},768:{margin:1}}}).on("changed.owl.carousel",function(e){d()}),$(".video").each(function(e,a){var o=$(a),i=o.find(".video__link"),l=(o.find(".video__media"),o.find(".video__button")),s=i.attr("href").match(/https:\/\/www\.youtube\.com\/watch\?v=([A-Za-z0-9]+)/)[1];o.on("click",function(){if(null==o.attr("data-initialized")){o.attr("data-initialized",""),i.remove(),l.remove();var e=$("<iframe>").addClass("video__media").attr("allowfullscreen","").attr("src","https://www.youtube.com/embed/"+s+"?rel=0&autoplay=1&showinfo=0");o.append(e)}}),i.removeAttr("href"),o.addClass("video--enabled")}),$(".js-parallax-bg").each(function(e,a){function o(){var e=0;768<window.innerWidth&&(e=-$(window).scrollTop()/100),i.css({backgroundPosition:"center "+(-33+e)+"rem"})}var i=$(a);o(),$(window).scroll(o)}),$(".video").each(function(e,a){var o=$(a),i=o.find(".video__link"),l=(o.find(".video__media"),o.find(".video__button")),s=i.attr("href").match(/https:\/\/www\.youtube\.com\/watch\?v=([A-Za-z0-9]+)/)[1];o.on("click",function(){if(null==o.attr("data-initialized")){o.attr("data-initialized",""),i.remove(),l.remove();var e=$("<iframe>").addClass("video__media").attr("allowfullscreen","").attr("src","https://www.youtube.com/embed/"+s+"?rel=0&autoplay=1&showinfo=0");o.append(e)}}),i.removeAttr("href"),o.addClass("video--enabled")})});